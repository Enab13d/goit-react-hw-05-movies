{"version":3,"file":"static/js/115.73c1df15.chunk.js","mappings":"iOA+DA,UA3De,WACb,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KAEMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BP,EAAAA,EAAAA,WAAS,kCAAMM,EAAaE,IAAI,gBAAvB,QAAmC,EAAnC,IAAnC,eAAOC,EAAP,KAAcC,EAAd,MAEAC,EAAAA,EAAAA,YAAU,WAAM,wCAId,sGAGIJ,EAD6B,KAAVE,EAAe,CAAEA,MAAAA,GAAU,CAAC,GAFnD,UAI2BG,EAAAA,EAAAA,IAAgBH,GAJ3C,OAIUI,EAJV,OAMcC,EACND,EADFE,KAAQD,QAEVZ,EAAUY,GARd,kDAUIE,QAAQC,IAAR,MAVJ,2DAJc,sBACTR,GADS,mCAiBdS,EACD,GAAE,CAACT,EAAOF,IAaX,OAFAS,QAAQC,IAAId,IAGV,4BACE,kBAAMgB,SAbO,SAAAC,GACfA,EAAEC,iBACF,IACUC,EACNF,EAAEG,cADJC,KAAQF,MAEVZ,EAASY,GAETF,EAAEK,OAAOC,OACV,EAKG,WACE,kBAAOF,KAAK,OAAOG,KAAK,OAAOC,aAAa,SAC5C,mBAAQD,KAAK,SAAb,uBAED1B,IACC,wBACGA,EAAO4B,KAAI,WAAgBC,GAAhB,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,GAAV,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,GAAME,MAAO,CAAEC,KAAMhC,GAAlC,SACG4B,KAFID,EADC,QAWrB,C","sources":["components/Movies/Movies.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { findMovieByName } from 'constants/api';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [query, setQuery] = useState(() => searchParams.get('query') ?? '');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    async function fetchData() {\n      try {\n        const nextParams = query !== '' ? { query } : {};\n        setSearchParams(nextParams);\n        const response = await findMovieByName(query);\n        const {\n          data: { results },\n        } = response;\n        setMovies(results);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    fetchData();\n  }, [query, setSearchParams]);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const {\n      name: { value },\n    } = e.currentTarget;\n    setQuery(value);\n\n    e.target.reset();\n  };\n  console.log(location);\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <input name=\"name\" type=\"text\" autoComplete=\"off\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      {movies && (\n        <ul>\n          {movies.map(({ title, id }, idx) => (\n            <li key={idx}>\n              <Link to={`${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n// replace index in map method with id from object in iterable array\n"],"names":["useState","movies","setMovies","location","useLocation","useSearchParams","searchParams","setSearchParams","get","query","setQuery","useEffect","findMovieByName","response","results","data","console","log","fetchData","onSubmit","e","preventDefault","value","currentTarget","name","target","reset","type","autoComplete","map","idx","title","id","to","state","from"],"sourceRoot":""}